<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>計算結果表示画面モック (Ag-Grid版)</title>
    <link href="https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-grid.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-theme-alpine.css" rel="stylesheet">
    <style>
        body { font-family: 'Meiryo UI', sans-serif; font-size: 14pt; background: #f6f6f6; margin: 32px; }
        .summary { display: flex; gap: 32px; margin-bottom: 30px; }
        .summary-item { background: #fff; padding: 16px 32px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08); min-width: 220px; text-align: center; }
        .summary-label { color: #888; font-size: 13pt; margin-bottom: 4px; }
        .summary-value { font-size: 18pt; font-weight: bold; color: #2e5371; }
        .ag-theme-alpine { --ag-font-size: 14pt; --ag-font-family: 'Meiryo UI', sans-serif; margin-bottom: 32px; }
        .buttons { display: flex; gap: 24px; margin-top: 16px; }
        button { font-family: 'Meiryo UI'; font-size: 14pt; padding: 10px 32px; border-radius: 6px; border: none; background: #3789c7; color: #fff; cursor: pointer; transition: background 0.2s; }
        button:hover { background: #2c6fa4; }
        .detail-btn { font-size: 11pt; padding: 3px 12px; margin-left: 8px; background: #62aae6; border-radius: 4px; border: none; color: #fff; cursor: pointer; }
    </style>
</head>
<body>
    <div class="summary">
        <div class="summary-item">
            <span class="summary-label">事業別払込額合計・国民</span><br>
            <span class="summary-value">1,200,000</span>
        </div>
        <div class="summary-item">
            <span class="summary-label">事業別払込額合計・農林</span><br>
            <span class="summary-value">850,000</span>
        </div>
        <div class="summary-item">
            <span class="summary-label">事業別払込額合計・中小</span><br>
            <span class="summary-value">640,000</span>
        </div>
    </div>

    <div id="myGrid" class="ag-theme-alpine" style="width: 100%; height: 540px;"></div>

    <div class="buttons">
        <button onclick="alert('払込金額計算項目入力に戻る')">戻る</button>
        <button onclick="alert('仮登録が実行されました')">仮登録</button>
        <button onclick="alert('CSVファイルを出力しました')">払込案内出力</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.noStyle.js"></script>
    <script>
        // ヘッダー4～13項目
        const columnDefs = [
            {
                headerName: "お取引番号",
                field: "transactionId",
                cellRenderer: params => params.value
                    ? params.value + '<button class="detail-btn" onclick="alert(\'計算詳細表示\')">詳細</button>'
                    : '<button class="detail-btn" style="opacity:0;pointer-events:none;">詳細</button>',
                minWidth: 170
            },
            { headerName: "払込金額", field: "paymentAmount", minWidth: 110 },
            { headerName: "事業", field: "business", minWidth: 90 },
            { headerName: "元金", field: "principal", minWidth: 120 },
            { headerName: "利息", field: "interest", minWidth: 90 },
            { headerName: "遅延損害金", field: "lateCharges", minWidth: 140 },
            { headerName: "手数料", field: "fee", minWidth: 100 },
            { headerName: "未収利息", field: "uncollectedInterest", minWidth: 110 },
            { headerName: "未収遅延損害金", field: "uncollectedLateCharges", minWidth: 140 },
            { headerName: "約定入金除外対象日", field: "excludedDate", minWidth: 170 }
        ];

        // 1行目データ（サンプル）、19行は空
        const rowData = [
            {
                transactionId: '202406250001',
                paymentAmount: '2,000,001',
                business: '国民',
                principal: '1,100,001',
                interest: '30,000',
                lateCharges: '0',
                fee: '9,000',
                uncollectedInterest: '5,000',
                uncollectedLateCharges: '0',
                excludedDate: '2024/06/18'
            }
        ];

        for (let i = 1; i < 20; i++) {
            rowData.push({
                transactionId: '', paymentAmount: '', business: '', principal: '', interest: '',
                lateCharges: '', fee: '', uncollectedInterest: '', uncollectedLateCharges: '', excludedDate: ''
            });
        }

        // Grid初期化
        const gridOptions = {
            columnDefs,
            rowData,
            domLayout: 'autoHeight',
            suppressMovableColumns: true,
            suppressCellSelection: true,
            defaultColDef: { resizable: true, sortable: false, filter: false }
        };

        document.addEventListener('DOMContentLoaded', () => {
            new agGrid.Grid(document.getElementById('myGrid'), gridOptions);
        });
    </script>
</body>
</html>
